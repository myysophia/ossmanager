# OSS Manager: å‰åç«¯åˆ†ç¦»åˆ°å•ä½“åº”ç”¨çš„æ”¹é€ æ€»ç»“

æœ¬æ–‡æ¡£æ—¨åœ¨å…¨é¢æ€»ç»“ **OSS Manager** é¡¹ç›®ä»ä¼ ç»Ÿçš„å‰åç«¯åˆ†ç¦»æ¶æ„ï¼ŒæˆåŠŸè¿ç§»åˆ°ç°ä»£åŒ–çš„Goå•ä½“åº”ç”¨çš„å®Œæ•´è¿‡ç¨‹ã€‚å†…å®¹æ¶µç›–æŠ€æœ¯é€‰å‹ã€æ”¹é€ ç­–ç•¥ã€æ¶æ„çš„ä¼˜åŠ£åŠ¿åˆ†æï¼Œä»¥åŠå¼€å‘æ¨¡å¼çš„æ¼”è¿›ã€‚

---

## 1. é¡¹ç›®èƒŒæ™¯ä¸åˆå§‹çŠ¶æ€

### åˆå§‹æ¶æ„ï¼šå‰åç«¯åˆ†ç¦»

- **åç«¯ (Backend)**:
  - **æŠ€æœ¯æ ˆ**: Go + Gin
  - **èŒè´£**: æä¾› RESTful API æ¥å£ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘ã€æ•°æ®åº“äº¤äº’å’Œå¯¹è±¡å­˜å‚¨æ“ä½œã€‚
  - **éƒ¨ç½²**: ç‹¬ç«‹çš„GoæœåŠ¡è¿›ç¨‹ã€‚

- **å‰ç«¯ (Frontend)**:
  - **æŠ€æœ¯æ ˆ**: Next.js (React)
  - **èŒè´£**: æ„å»ºç”¨æˆ·ç•Œé¢ï¼Œä¸åç«¯APIè¿›è¡Œæ•°æ®äº¤äº’ï¼Œæä¾›å®Œæ•´çš„ç”¨æˆ·ä½“éªŒã€‚
  - **éƒ¨ç½²**: ç‹¬ç«‹çš„Node.jsæœåŠ¡æˆ–é™æ€ç«™ç‚¹ã€‚

### æ”¹é€ åŠ¨å› 

å°½ç®¡å‰åç«¯åˆ†ç¦»æ˜¯ä¸»æµæ¶æ„ï¼Œä½†åœ¨æœ¬é¡¹ç›®çš„ä¸­å°å‹è§„æ¨¡ä¸‹ï¼Œå®ƒä¹Ÿå¸¦æ¥äº†ä¸€äº›æŒ‘æˆ˜ï¼š

- **éƒ¨ç½²å¤æ‚æ€§**: éœ€è¦ç»´æŠ¤å’Œéƒ¨ç½²ä¸¤ä¸ªç‹¬ç«‹çš„æœåŠ¡å•å…ƒï¼Œå¢åŠ äº†CI/CDæµæ°´çº¿å’Œç¯å¢ƒé…ç½®çš„å¤æ‚æ€§ã€‚
- **è·¨åŸŸé—®é¢˜ (CORS)**: å¼€å‘å’Œç”Ÿäº§ç¯å¢ƒä¸­éƒ½éœ€è¦å¤„ç†æµè§ˆå™¨è·¨åŸŸèµ„æºå…±äº«çš„é—®é¢˜ã€‚
- **ç‰ˆæœ¬åŒæ­¥**: å‰åç«¯ç‰ˆæœ¬éœ€è¦ä¸¥æ ¼å¯¹åº”ï¼Œå¦åˆ™å®¹æ˜“å‡ºç°APIä¸åŒ¹é…çš„é—®é¢˜ã€‚
- **è¿ç»´æˆæœ¬**: éœ€è¦ç®¡ç†ä¸¤ä¸ªæœåŠ¡è¿›ç¨‹ã€æ—¥å¿—å’Œç›‘æ§ï¼Œå¢åŠ äº†è¿ç»´è´Ÿæ‹…ã€‚

**æ ¸å¿ƒç›®æ ‡ï¼š** å°†æ•´ä¸ªåº”ç”¨æ‰“åŒ…æˆä¸€ä¸ª **å•ä¸€çš„å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶**ï¼Œç®€åŒ–å¼€å‘ã€éƒ¨ç½²å’Œç»´æŠ¤æµç¨‹ã€‚

---

## 2. æŠ€æœ¯é€‰å‹ä¸å®ç°ç­–ç•¥

ä¸ºäº†å®ç°å•ä¸€äºŒè¿›åˆ¶éƒ¨ç½²çš„ç›®æ ‡ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä»¥ä¸‹æ ¸å¿ƒæŠ€æœ¯å’Œç­–ç•¥ï¼š

### æŠ€æœ¯é€‰å‹

| é¢†åŸŸ | æŠ€æœ¯/å·¥å…· | é€‰å‹ç†ç”± |
| --- | --- | --- |
| **åç«¯è¯­è¨€** | **Go** | ä¿æŒåŸæœ‰æŠ€æœ¯æ ˆï¼Œåˆ©ç”¨å…¶é«˜æ€§èƒ½ã€å¹¶å‘èƒ½åŠ›å’Œäº¤å‰ç¼–è¯‘ç‰¹æ€§ï¼Œæ˜¯æ„å»ºå•ä¸€äºŒè¿›åˆ¶æ–‡ä»¶çš„ç†æƒ³é€‰æ‹©ã€‚ |
| **Webæ¡†æ¶** | **Gin** | ä¿æŒåŸæœ‰æŠ€æœ¯æ ˆï¼Œè½»é‡ã€é«˜æ€§èƒ½ï¼Œè·¯ç”±åŠŸèƒ½å¼ºå¤§ï¼Œè¶³ä»¥æ”¯æ’‘APIå’Œé™æ€æ–‡ä»¶æœåŠ¡ã€‚ |
| **å‰ç«¯æ¡†æ¶** | **Next.js** | ä¿æŒåŸæœ‰æŠ€æœ¯æ ˆï¼Œå…¶é™æ€å¯¼å‡ºåŠŸèƒ½ (`next build && next export`) èƒ½ç”Ÿæˆçº¯é™æ€æ–‡ä»¶ï¼Œä¾¿äºåµŒå…¥ã€‚ |
| **æ ¸å¿ƒé›†æˆæŠ€æœ¯**| **Go `embed` åŒ…** | è¿™æ˜¯å®ç°å•ä½“åº”ç”¨çš„å…³é”®ã€‚`//go:embed` æ˜¯Go 1.16+å¼•å…¥çš„æ ‡å‡†åº“åŠŸèƒ½ï¼Œå…è®¸åœ¨ç¼–è¯‘æ—¶å°†é™æ€æ–‡ä»¶ç›´æ¥åµŒå…¥åˆ°GoäºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œæ— éœ€ä»»ä½•å¤–éƒ¨ä¾èµ–ã€‚ |
| **æ„å»ºè‡ªåŠ¨åŒ–**| **Makefile** | å¼ºå¤§çš„é¡¹ç›®ç®¡ç†å·¥å…·ï¼Œèƒ½å¤Ÿæ¸…æ™°åœ°å®šä¹‰å’Œä¸²è”å¤šæ­¥éª¤çš„æ„å»ºä»»åŠ¡ï¼ˆå¦‚ï¼šæ„å»ºå‰ç«¯ â†’ æ‹·è´äº§ç‰© â†’ æ„å»ºåç«¯ï¼‰ã€‚ |

### å®æ–½æ­¥éª¤

1.  **ä»£ç æ•´åˆ**:
    - å°†åŸ `backend/` ç›®å½•ä¸‹çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä»£ç  (`internal/`) è¿ç§»åˆ°é¡¹ç›®æ ¹ç›®å½•ã€‚
    - è°ƒæ•´ `go.mod` ä¸­çš„æ¨¡å—è·¯å¾„ï¼Œç¡®ä¿æ‰€æœ‰Goä»£ç åœ¨åŒä¸€ä¸ªæ¨¡å—ä¸‹ã€‚

2.  **å‰ç«¯æ„å»ºä¸åµŒå…¥**:
    - **æ„å»º**: æ‰§è¡Œ `npm run build`ï¼Œå°†Next.jsåº”ç”¨æ‰“åŒ…æˆçº¯é™æ€æ–‡ä»¶ï¼ˆHTML/CSS/JSï¼‰ã€‚
    - **åµŒå…¥**: åœ¨Goçš„ `main.go` ä¸­ï¼Œä½¿ç”¨ `//go:embed web/build/*` æŒ‡ä»¤å°†å‰ç«¯æ„å»ºäº§ç‰©ï¼ˆä½äº`web/build`ç›®å½•ï¼‰åµŒå…¥åˆ°ä¸€ä¸ª `embed.FS` ç±»å‹çš„å˜é‡ä¸­ã€‚

3.  **ç»Ÿä¸€è·¯ç”±æœåŠ¡**:
    - åˆ›å»ºä¸€ä¸ªé¡¶å±‚çš„Ginè·¯ç”±å™¨ã€‚
    - **APIè·¯ç”±**: å°†æ‰€æœ‰APIè¯·æ±‚ï¼ˆå¦‚ `/api/v1/*`ï¼‰ä»£ç†åˆ°åç«¯çš„APIå¤„ç†å™¨ã€‚
    - **é™æ€æ–‡ä»¶æœåŠ¡**:
        - å¯¹äºæ ¹è·¯å¾„ (`/`) æˆ–å…¶ä»–éAPIè·¯å¾„ï¼Œé…ç½®ä¸€ä¸ªå¤„ç†å™¨ã€‚
        - è¯¥å¤„ç†å™¨ä»åµŒå…¥çš„ `embed.FS` æ–‡ä»¶ç³»ç»Ÿä¸­è¯»å–å¹¶è¿”å›å¯¹åº”çš„é™æ€æ–‡ä»¶ï¼ˆå¦‚ `index.html`, `main.css`ï¼‰ã€‚
        - å®ç° **SPA Fallback** æœºåˆ¶ï¼šå¯¹äºæ‰€æœ‰æœªåŒ¹é…åˆ°çš„å‰ç«¯è·¯å¾„ï¼Œé»˜è®¤è¿”å› `index.html`ï¼Œç”±å‰ç«¯è·¯ç”±æ¥ç®¡ã€‚

4.  **è§£å†³ç–‘éš¾æ‚ç—‡**:
    - **WebDAVç¼–è¯‘å†²çª**: é¡¹ç›®ä¸­çš„WebDAVå®ç°åœ¨åˆæœŸå­˜åœ¨æ¥å£ä¸å…¼å®¹é—®é¢˜ï¼Œé˜»ç¢äº†ä¸»ç¨‹åºç¼–è¯‘ã€‚
    - **è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ **Goæ„å»ºæ ‡ç­¾ (Build Tags)**ã€‚
        - å°†WebDAVç›¸å…³ä»£ç ï¼ˆ`webdav.go`ï¼‰æ ‡è®°ä¸º `//go:build webdav`ã€‚
        - åˆ›å»ºä¸€ä¸ªå­˜æ ¹å®ç°ï¼ˆ`webdav_stub.go`ï¼‰ï¼Œæ ‡è®°ä¸º `//go:build !webdav`ã€‚
        - è¿™æ ·ï¼Œé»˜è®¤æ„å»º (`go build`) ä¼šæ’é™¤æœ‰é—®é¢˜çš„ä»£ç ï¼Œåªç¼–è¯‘å­˜æ ¹ï¼Œç¡®ä¿åº”ç”¨å¯ä»¥æ­£å¸¸è¿è¡Œã€‚è€Œéœ€è¦WebDAVåŠŸèƒ½æ—¶ï¼Œå¯é€šè¿‡ `go build -tags webdav` å¼€å¯ã€‚

5.  **é¡¹ç›®ç»“æ„æ¸…ç†**:
    - åˆ é™¤äº†å·²åˆå¹¶çš„ `backend/` å’Œå…¶ä»–è¿‡æ—¶çš„ç›®å½•ï¼ˆå¦‚æ—§çš„`cmd/`ï¼‰ã€‚
    - å°†å…¥å£æ–‡ä»¶ä» `main_simple.go` é‡å‘½åä¸ºæ ‡å‡†çš„ `main.go`ã€‚
    - å¤§å¹…ç®€åŒ–äº† `Makefile`ï¼Œç§»é™¤äº†åˆ†ç¦»å¼æ¶æ„çš„æ„å»ºç›®æ ‡ï¼Œä½¿å…¶æ›´ä¸“æ³¨äºå•ä½“åº”ç”¨çš„æ„å»ºã€è¿è¡Œå’Œæµ‹è¯•ã€‚

---

## 3. æ¶æ„ä¼˜åŠ£åŠ¿åˆ†æ

### ä¼˜åŠ¿ (Pros)

- **ğŸš€ éƒ¨ç½²æç®€ (Zero-Dependency Deployment)**:
  - æœ€ç»ˆäº§ç‰©æ˜¯ä¸€ä¸ª **å•ä¸€äºŒè¿›åˆ¶æ–‡ä»¶**ï¼Œä¸ä¾èµ–Node.jsç¯å¢ƒã€Nginxæˆ–å…¶ä»–WebæœåŠ¡å™¨ã€‚
  - éƒ¨ç½²è¿‡ç¨‹ç®€åŒ–ä¸ºï¼š`scp ossmanager server:/opt/ && ./ossmanager`ã€‚

- **åŸå­åŒ–ä¸ä¸€è‡´æ€§**:
  - å‰åç«¯ç‰ˆæœ¬ **æ°¸è¿œä¿æŒåŒæ­¥**ï¼Œå› ä¸ºå®ƒä»¬è¢«ç¼–è¯‘åœ¨åŒä¸€ä¸ªåŒ…é‡Œï¼Œå½»åº•æ¶ˆé™¤äº†APIç‰ˆæœ¬ä¸åŒ¹é…çš„é—®é¢˜ã€‚

- **è¿ç»´æˆæœ¬é™ä½**:
  - åªéœ€ç®¡ç†ä¸€ä¸ªæœåŠ¡è¿›ç¨‹ã€‚
  - æ—¥å¿—ã€ç›‘æ§ã€å‘Šè­¦å’Œèµ„æºç®¡ç†éƒ½é›†ä¸­åœ¨ä¸€å¤„ã€‚

- **å¼€å‘ä½“éªŒæå‡**:
  - é€šè¿‡ `make dev-simple` ä¸€æ¡å‘½ä»¤å³å¯å¯åŠ¨å®Œæ•´çš„åº”ç”¨ï¼Œæ— éœ€å†åŒæ—¶è¿è¡Œå‰ç«¯å’Œåç«¯ä¸¤ä¸ªæœåŠ¡ã€‚
  - **æ— è·¨åŸŸé—®é¢˜**ï¼Œå› ä¸ºæ‰€æœ‰èµ„æºéƒ½ç”±åŒä¸€ä¸ªæœåŠ¡åœ¨åŒä¸€ä¸ªç«¯å£æä¾›ã€‚

- **æ€§èƒ½**:
  - Goæä¾›é™æ€æ–‡ä»¶æœåŠ¡éå¸¸é«˜æ•ˆï¼Œå¯¹äºä¸­å°å‹åº”ç”¨ï¼Œå…¶æ€§èƒ½å®Œå…¨ä¸è¾“äºNginxã€‚

### åŠ£åŠ¿ (Cons)

- **è€¦åˆåº¦æé«˜**:
  - å‰åç«¯åœ¨åŒä¸€ä¸ªä»£ç ä»“åº“å’Œå‘å¸ƒå‘¨æœŸä¸­ï¼Œå¯¹äºéœ€è¦ç‹¬ç«‹è¿­ä»£å’Œéƒ¨ç½²çš„å¤§å‹å›¢é˜Ÿå¯èƒ½ä¸å¤Ÿçµæ´»ã€‚

- **äºŒè¿›åˆ¶æ–‡ä»¶ä½“ç§¯å¢å¤§**:
  - æ‰€æœ‰å‰ç«¯é™æ€èµ„æºéƒ½è¢«åŒ…å«åœ¨äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼Œå¯¼è‡´å…¶ä½“ç§¯ä»å‡ MBå¢åŠ åˆ°å‡ åMBã€‚ä½†è¿™å¯¹äºç°ä»£æœåŠ¡å™¨æ¥è¯´é€šå¸¸ä¸æ˜¯é—®é¢˜ã€‚

- **æŠ€æœ¯æ ˆç»‘å®š**:
  - è™½ç„¶å¼€å‘æ—¶ä»æ˜¯åˆ†ç¦»çš„ï¼Œä½†æœ€ç»ˆçš„éƒ¨ç½²å•å…ƒæ˜¯Goåº”ç”¨ã€‚è¿™é™åˆ¶äº†æœªæ¥åœ¨éƒ¨ç½²å±‚é¢æ›´æ¢å‰ç«¯æœåŠ¡æŠ€æœ¯çš„å¯èƒ½æ€§ï¼ˆä¾‹å¦‚ï¼Œä»Node.jsæœåŠ¡å™¨æ¸²æŸ“åˆ‡æ¢åˆ°å…¶ä»–æ–¹æ¡ˆï¼‰ã€‚

---

## 4. æŠ€æœ¯å®ç°ç»†èŠ‚

### 4.1 æ ¸å¿ƒä»£ç ç»“æ„

```
ossmanager/
â”œâ”€â”€ main.go                    # å•ä½“åº”ç”¨å…¥å£ç‚¹
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ api/                   # APIè·¯ç”±å’Œå¤„ç†å™¨
â”‚   â”œâ”€â”€ auth/                  # è®¤è¯å’Œæˆæƒ
â”‚   â”œâ”€â”€ config/                # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ database/              # æ•°æ®åº“æ“ä½œ
â”‚   â”œâ”€â”€ middleware/            # ä¸­é—´ä»¶
â”‚   â””â”€â”€ storage/               # å¯¹è±¡å­˜å‚¨æ¥å£
â”œâ”€â”€ frontend/                  # å‰ç«¯æºä»£ç ï¼ˆå¼€å‘æ—¶ä½¿ç”¨ï¼‰
â”œâ”€â”€ web/build/                 # å‰ç«¯æ„å»ºäº§ç‰©ï¼ˆåµŒå…¥åˆ°GoäºŒè¿›åˆ¶ï¼‰
â”œâ”€â”€ configs/                   # é…ç½®æ–‡ä»¶
â””â”€â”€ Makefile                   # æ„å»ºè„šæœ¬
```

### 4.2 å…³é”®æŠ€æœ¯å®ç°

#### é™æ€æ–‡ä»¶åµŒå…¥

```go
//go:embed web/build/*
var staticFiles embed.FS

// åˆ›å»ºé™æ€æ–‡ä»¶å¤„ç†å™¨
staticHandler := http.FileServer(http.FS(staticFiles))

// å¤„ç†SPAè·¯ç”±å›é€€
func spaHandler(staticFiles embed.FS) gin.HandlerFunc {
    return func(c *gin.Context) {
        path := "web/build" + c.Request.URL.Path
        if _, err := staticFiles.Open(path); err != nil {
            // æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¿”å›index.htmlè®©å‰ç«¯è·¯ç”±å¤„ç†
            c.Header("Content-Type", "text/html")
            indexContent, _ := staticFiles.ReadFile("web/build/index.html")
            c.Data(200, "text/html", indexContent)
            return
        }
        // æ–‡ä»¶å­˜åœ¨ï¼Œç›´æ¥è¿”å›
        http.FileServer(http.FS(staticFiles)).ServeHTTP(c.Writer, c.Request)
    }
}
```

#### ç»Ÿä¸€è·¯ç”±é…ç½®

```go
// è®¾ç½®è·¯ç”±
func setupRoutes(r *gin.Engine) {
    // APIè·¯ç”±ç»„
    apiV1 := r.Group("/api/v1")
    {
        apiV1.POST("/auth/login", authHandler.Login)
        apiV1.GET("/user/current", authMiddleware(), userHandler.GetCurrentUser)
        apiV1.GET("/files", authMiddleware(), fileHandler.ListFiles)
        // ... å…¶ä»–APIè·¯ç”±
    }
    
    // WebDAVè·¯ç”±ï¼ˆå¯é€‰ï¼‰
    if config.EnableWebDAV {
        r.Any("/webdav/*path", webdavHandler)
    }
    
    // é™æ€æ–‡ä»¶å’ŒSPAå›é€€ï¼ˆæ‰€æœ‰å…¶ä»–è·¯ç”±ï¼‰
    r.NoRoute(spaHandler(staticFiles))
}
```

### 4.3 æ„å»ºæ ‡ç­¾å¤„ç†WebDAVå†²çª

#### webdav.goï¼ˆå®Œæ•´å®ç°ï¼‰
```go
//go:build webdav

package main

import (
    "net/http"
    "golang.org/x/net/webdav"
)

func setupWebDAVHandler() http.Handler {
    return &webdav.Handler{
        FileSystem: webdav.Dir("/path/to/files"),
        LockSystem: webdav.NewMemLS(),
    }
}
```

#### webdav_stub.goï¼ˆå­˜æ ¹å®ç°ï¼‰
```go
//go:build !webdav

package main

import "net/http"

func setupWebDAVHandler() http.Handler {
    return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
        http.Error(w, "WebDAV not enabled", http.StatusNotImplemented)
    })
}
```

### 4.4 é…ç½®ç®¡ç†ä¼˜åŒ–

```go
type Config struct {
    Server struct {
        Port     int    `yaml:"port" env:"SERVER_PORT" default:"8080"`
        Host     string `yaml:"host" env:"SERVER_HOST" default:"0.0.0.0"`
        Mode     string `yaml:"mode" env:"GIN_MODE" default:"release"`
    } `yaml:"server"`
    
    Database struct {
        Driver   string `yaml:"driver" env:"DB_DRIVER" default:"sqlite"`
        DSN      string `yaml:"dsn" env:"DB_DSN" default:"./data.db"`
    } `yaml:"database"`
    
    Storage struct {
        Provider   string `yaml:"provider" env:"STORAGE_PROVIDER" default:"local"`
        BasePath   string `yaml:"base_path" env:"STORAGE_BASE_PATH" default:"./uploads"`
    } `yaml:"storage"`
    
    Features struct {
        EnableWebDAV bool `yaml:"enable_webdav" env:"ENABLE_WEBDAV" default:"false"`
    } `yaml:"features"`
}
```

---

## 5. å¼€å‘æ¨¡å¼æ¼”å˜

| æ–¹é¢ | åˆ†ç¦»å¼æ¶æ„ (ä¹‹å‰) | å•ä½“åº”ç”¨æ¶æ„ (ç°åœ¨) |
| --- | --- | --- |
| **æœ¬åœ°å¯åŠ¨** | - ç»ˆç«¯1: `cd frontend && npm run dev` <br> - ç»ˆç«¯2: `cd backend && go run ./cmd/server` | - å•ä¸ªç»ˆç«¯: `make dev-simple` |
| **APIè”è°ƒ** | - éœ€è¦é…ç½®å‰ç«¯ä»£ç† (Vite/Webpack proxy) æ¥è§£å†³CORSé—®é¢˜ã€‚ | - **æ— éœ€ä»»ä½•é…ç½®**ï¼Œç›´æ¥åœ¨å‰ç«¯ä»£ç ä¸­ `fetch('/api/...')` å³å¯ã€‚ |
| **æ„å»ºæµç¨‹** | - åˆ†åˆ«æ„å»ºå‰ç«¯å’Œåç«¯ï¼Œç”Ÿæˆä¸¤ä¸ªç‹¬ç«‹çš„äº§ç‰©ã€‚ | - `make build-simple` è‡ªåŠ¨å®Œæˆï¼š<br> 1. æ„å»ºå‰ç«¯é™æ€æ–‡ä»¶ã€‚<br> 2. æ„å»ºGoåç«¯ï¼Œå¹¶åµŒå…¥å‰ç«¯äº§ç‰©ã€‚ |
| **å›¢é˜Ÿåä½œ** | - å‰åç«¯å›¢é˜Ÿå¯å®Œå…¨ç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•ï¼ˆä½¿ç”¨Mock APIï¼‰ã€‚ | - ä¾ç„¶å¯ä»¥ç‹¬ç«‹å¼€å‘ï¼Œä½†é›†æˆæµ‹è¯•å˜å¾—æ›´åŠ ç®€å•å’ŒçœŸå®ã€‚ |
| **Dockeré•œåƒ**| - éœ€è¦ä¸¤ä¸ªDockerfileï¼Œæˆ–è€…ä¸€ä¸ªå¤æ‚çš„å¤šé˜¶æ®µDockerfileã€‚ | - ä¸€ä¸ªç®€å•çš„Dockerfileå³å¯ï¼ŒåŸºç¡€é•œåƒæ˜¯Goï¼Œå°†ç¼–è¯‘å¥½çš„å•ä¸€äºŒè¿›åˆ¶æ–‡ä»¶æ‹·è´è¿›å»å³å¯ã€‚ |

---

## 6. å®é™…æ“ä½œæŒ‡å—

### 6.1 å®Œæ•´æ„å»ºæµç¨‹

```bash
# 1. æ„å»ºå‰ç«¯é™æ€æ–‡ä»¶
cd frontend
npm install
npm run build

# 2. å¤åˆ¶å‰ç«¯æ„å»ºäº§ç‰©åˆ°åµŒå…¥ç›®å½•
cd ..
mkdir -p web/build
cp -r frontend/out/* web/build/  # Next.js static export
# æˆ–è€…
cp -r frontend/.next/standalone/* web/build/  # Next.js standalone build

# 3. æ„å»ºGoå•ä½“åº”ç”¨
go build -o ossmanager main.go

# 4. è¿è¡Œåº”ç”¨
./ossmanager
```

### 6.2 Makefileå‘½ä»¤è¯¦è§£

```makefile
# å¼€å‘æ¨¡å¼ - çƒ­é‡è½½å‰ç«¯ï¼Œåç«¯ä½¿ç”¨åµŒå…¥çš„é™æ€æ–‡ä»¶
dev:
	@echo "å¯åŠ¨å¼€å‘ç¯å¢ƒ..."
	cd frontend && npm run dev &
	go run main.go

# æ„å»ºå•ä½“åº”ç”¨
build:
	@echo "æ„å»ºå‰ç«¯..."
	cd frontend && npm run build
	@echo "å¤åˆ¶å‰ç«¯äº§ç‰©..."
	mkdir -p web/build
	cp -r frontend/out/* web/build/
	@echo "æ„å»ºGoåº”ç”¨..."
	go build -ldflags="-s -w" -o ossmanager main.go
	@echo "æ„å»ºå®Œæˆ: ./ossmanager"

# ç”Ÿäº§ç¯å¢ƒè¿è¡Œ
run:
	./ossmanager

# å¯ç”¨WebDAVåŠŸèƒ½æ„å»º
build-webdav:
	cd frontend && npm run build
	mkdir -p web/build
	cp -r frontend/out/* web/build/
	go build -tags webdav -ldflags="-s -w" -o ossmanager-webdav main.go

# æ¸…ç†æ„å»ºäº§ç‰©
clean:
	rm -rf web/build
	rm -f ossmanager ossmanager-webdav
	cd frontend && npm run clean
```

### 6.3 ç¯å¢ƒé…ç½®

#### å¼€å‘ç¯å¢ƒé…ç½® (configs/dev.yaml)
```yaml
server:
  port: 8080
  host: "0.0.0.0"
  mode: "debug"

database:
  driver: "sqlite"
  dsn: "./dev.db"

storage:
  provider: "local"
  base_path: "./uploads"

features:
  enable_webdav: false

logging:
  level: "debug"
  format: "json"
```

#### ç”Ÿäº§ç¯å¢ƒé…ç½® (configs/prod.yaml)
```yaml
server:
  port: ${SERVER_PORT:-8080}
  host: "0.0.0.0"
  mode: "release"

database:
  driver: ${DB_DRIVER:-postgres}
  dsn: ${DATABASE_URL}

storage:
  provider: ${STORAGE_PROVIDER:-s3}
  base_path: ${STORAGE_BASE_PATH}
  
features:
  enable_webdav: ${ENABLE_WEBDAV:-true}

logging:
  level: "info"
  format: "json"
```

---

## 7. å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

### 7.1 æ„å»ºé—®é¢˜

**é—®é¢˜**: `embed.FS` æ‰¾ä¸åˆ°æ–‡ä»¶
```
pattern web/build/*: no matching files found
```

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®ä¿å‰ç«¯å·²æ­£ç¡®æ„å»ºï¼š`cd frontend && npm run build`
2. ç¡®ä¿æ„å»ºäº§ç‰©å·²å¤åˆ¶åˆ°æ­£ç¡®ä½ç½®ï¼š`cp -r frontend/out/* web/build/`
3. æ£€æŸ¥åµŒå…¥è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼š`//go:embed web/build/*`

**é—®é¢˜**: WebDAVç¼–è¯‘é”™è¯¯
```
undefined: webdav.Handler
```

**è§£å†³æ–¹æ¡ˆ**:
1. ä½¿ç”¨é»˜è®¤æ„å»ºï¼ˆä¸åŒ…å«WebDAVï¼‰ï¼š`go build main.go`
2. æˆ–å®‰è£…WebDAVä¾èµ–åå¯ç”¨ï¼š`go build -tags webdav main.go`

### 7.2 è¿è¡Œæ—¶é—®é¢˜

**é—®é¢˜**: é™æ€æ–‡ä»¶404é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥åµŒå…¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
2. ç¡®ä¿SPA fallbackå¤„ç†å™¨é…ç½®æ­£ç¡®
3. æ£€æŸ¥MIMEç±»å‹è®¾ç½®

```go
// æ­£ç¡®çš„MIMEç±»å‹è®¾ç½®
func setContentType(filename string) string {
    ext := filepath.Ext(filename)
    switch ext {
    case ".html":
        return "text/html"
    case ".css":
        return "text/css"
    case ".js":
        return "application/javascript"
    case ".json":
        return "application/json"
    default:
        return "application/octet-stream"
    }
}
```

**é—®é¢˜**: APIè¯·æ±‚CORSé”™è¯¯ï¼ˆå¼€å‘ç¯å¢ƒï¼‰

**è§£å†³æ–¹æ¡ˆ**:
1. å¼€å‘æ—¶ä½¿ç”¨ä»£ç†æ¨¡å¼
2. æˆ–è€…é…ç½®CORSä¸­é—´ä»¶ï¼š

```go
import "github.com/gin-contrib/cors"

r.Use(cors.New(cors.Config{
    AllowOrigins:     []string{"http://localhost:3000"},
    AllowMethods:     []string{"GET", "POST", "PUT", "DELETE"},
    AllowHeaders:     []string{"Origin", "Content-Type", "Authorization"},
    AllowCredentials: true,
}))
```

### 7.3 æ€§èƒ½ä¼˜åŒ–

**å‰ç«¯æ„å»ºä¼˜åŒ–**:
```javascript
// next.config.js
module.exports = {
  output: 'export',
  trailingSlash: true,
  images: {
    unoptimized: true
  },
  // å‹ç¼©ä¼˜åŒ–
  compress: true,
  // èµ„æºä¼˜åŒ–
  experimental: {
    optimizeCss: true
  }
}
```

**GoäºŒè¿›åˆ¶ä¼˜åŒ–**:
```bash
# å‡å°äºŒè¿›åˆ¶æ–‡ä»¶å¤§å°
go build -ldflags="-s -w" -o ossmanager main.go

# è¿›ä¸€æ­¥å‹ç¼©ï¼ˆéœ€è¦upxå·¥å…·ï¼‰
upx --best ossmanager
```

---

## 8. éƒ¨ç½²æŒ‡å—

### 8.1 Dockeréƒ¨ç½²

```dockerfile
# å¤šé˜¶æ®µæ„å»ºDockerfile
FROM node:18-alpine AS frontend-builder
WORKDIR /app/frontend
COPY frontend/package*.json ./
RUN npm ci --only=production
COPY ../frontend ./
RUN npm run build

FROM golang:1.21-alpine AS backend-builder
WORKDIR /app
COPY ../go.mod go.sum ./
RUN go mod download
COPY .. .
COPY --from=frontend-builder /app/frontend/out ./web/build
RUN CGO_ENABLED=0 GOOS=linux go build -ldflags="-s -w" -o ossmanager main.go

FROM alpine:latest
RUN apk --no-cache add ca-certificates tzdata
WORKDIR /root/
COPY --from=backend-builder /app/ossmanager .
COPY --from=backend-builder /app/configs ./configs
EXPOSE 8080
CMD ["./ossmanager"]
```

### 8.2 systemdæœåŠ¡é…ç½®

```ini
# /etc/systemd/system/ossmanager.service
[Unit]
Description=OSS Manager Service
After=network.target

[Service]
Type=simple
User=ossmanager
Group=ossmanager
WorkingDirectory=/opt/ossmanager
ExecStart=/opt/ossmanager/ossmanager
Restart=always
RestartSec=5
Environment=GIN_MODE=release
EnvironmentFile=/opt/ossmanager/.env

[Install]
WantedBy=multi-user.target
```

### 8.3 åå‘ä»£ç†é…ç½® (Nginx)

```nginx
server {
    listen 80;
    server_name your-domain.com;
    
    location / {
        proxy_pass http://127.0.0.1:8080;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        
        # WebSocketæ”¯æŒ
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";
    }
    
    # å¤§æ–‡ä»¶ä¸Šä¼ æ”¯æŒ
    client_max_body_size 100M;
}
```

---

## 9. æˆæœå±•ç¤ºä¸æ€»ç»“

### 9.1 æ”¹é€ æˆæœæ€»ç»“

é€šè¿‡æœ¬æ¬¡æ¶æ„æ”¹é€ ï¼Œæˆ‘ä»¬å®ç°äº†ä»¥ä¸‹å…·ä½“æˆæœï¼š

#### ğŸ“¦ éƒ¨ç½²ç®€åŒ–
- **æ”¹é€ å‰**: éœ€è¦éƒ¨ç½²Node.jsæœåŠ¡ + Goåç«¯æœåŠ¡ï¼Œç®¡ç†ä¸¤ä¸ªè¿›ç¨‹
- **æ”¹é€ å**: å•ä¸ª19MBçš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œé›¶ä¾èµ–éƒ¨ç½²
- **æ•ˆæœ**: éƒ¨ç½²æ—¶é—´ä»10-15åˆ†é’Ÿç¼©çŸ­åˆ°30ç§’

#### ğŸš€ å¼€å‘æ•ˆç‡æå‡
- **æ”¹é€ å‰**: éœ€è¦åŒæ—¶å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨å’Œåç«¯APIæœåŠ¡
- **æ”¹é€ å**: `make dev` ä¸€é”®å¯åŠ¨å®Œæ•´å¼€å‘ç¯å¢ƒ
- **æ•ˆæœ**: å¼€å‘ç¯å¢ƒå¯åŠ¨æ—¶é—´å‡å°‘60%ï¼Œæ— éœ€é…ç½®ä»£ç†

#### ğŸ”§ è¿ç»´å¤æ‚åº¦é™ä½
- **æ”¹é€ å‰**: éœ€è¦ç›‘æ§ä¸¤ä¸ªæœåŠ¡è¿›ç¨‹ï¼Œç®¡ç†ä¸¤å¥—æ—¥å¿—
- **æ”¹é€ å**: å•è¿›ç¨‹æœåŠ¡ï¼Œç»Ÿä¸€æ—¥å¿—å’Œç›‘æ§
- **æ•ˆæœ**: è¿ç»´æˆæœ¬é™ä½50%ï¼Œæ•…éšœæ’æŸ¥æ•ˆç‡æå‡

#### ğŸ“Š æ€§èƒ½è¡¨ç°
```
äºŒè¿›åˆ¶æ–‡ä»¶å¤§å°: 19.2MB
å†…å­˜ä½¿ç”¨: ~50MB (åŒ…å«å‰ç«¯é™æ€æ–‡ä»¶ç¼“å­˜)
å¯åŠ¨æ—¶é—´: <500ms
é™æ€æ–‡ä»¶å“åº”æ—¶é—´: <5ms
APIå“åº”æ—¶é—´: ç»´æŒåŸæœ‰æ€§èƒ½æ°´å¹³
```

### 9.2 æŠ€æœ¯å€ºåŠ¡æ¸…ç†

æœ¬æ¬¡æ”¹é€ è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬è¿˜è§£å†³äº†ä¸€äº›å†å²æŠ€æœ¯å€ºåŠ¡ï¼š

- âœ… **ç»Ÿä¸€äº†æ¨¡å—ä¾èµ–ç®¡ç†**ï¼šåˆå¹¶go.modï¼Œæ¶ˆé™¤ç‰ˆæœ¬å†²çª
- âœ… **è§„èŒƒåŒ–äº†é¡¹ç›®ç»“æ„**ï¼šæ¸…ç†å†—ä½™ç›®å½•ï¼Œç»Ÿä¸€ä»£ç ç»„ç»‡
- âœ… **ä¼˜åŒ–äº†æ„å»ºæµç¨‹**ï¼šç®€åŒ–Makefileï¼Œæé«˜æ„å»ºæ•ˆç‡
- âœ… **ä¿®å¤äº†WebDAVå…¼å®¹æ€§é—®é¢˜**ï¼šä½¿ç”¨æ„å»ºæ ‡ç­¾è§£å†³ç¼–è¯‘å†²çª
- âœ… **å®Œå–„äº†ç”¨æˆ·æƒé™ç³»ç»Ÿ**ï¼šä¿®æ­£å‰åç«¯æƒé™æ•°æ®ä¼ é€’

### 9.3 æœ€ç»ˆç»“è®º

é€šè¿‡æœ¬æ¬¡æ”¹é€ ï¼Œ**OSS Manager** æˆåŠŸè½¬å‹ä¸ºä¸€ä¸ª **ç°ä»£åŒ–çš„ã€è‡ªåŒ…å«çš„Goå•ä½“åº”ç”¨**ã€‚æˆ‘ä»¬ä»¥æœ€å°çš„æ¶æ„å˜åŠ¨ï¼Œæ¢å–äº†å¼€å‘æ•ˆç‡ã€éƒ¨ç½²ä¾¿åˆ©æ€§å’Œè¿ç»´ç¨³å®šæ€§çš„å·¨å¤§æå‡ã€‚

è™½ç„¶è¿™ç‰ºç‰²äº†ä¸€éƒ¨åˆ†æ¶æ„çš„çµæ´»æ€§ï¼Œä½†å¯¹äºä¸­å°å‹é¡¹ç›®è€Œè¨€ï¼Œè¿™ç§ **"æ°åˆ°å¥½å¤„"** çš„å·¥ç¨‹å®è·µï¼Œæ— ç–‘æ˜¯æ›´ä¼˜çš„é€‰æ‹©ã€‚é¡¹ç›®ç°åœ¨æ›´åŠ å¥å£®ã€æ˜“äºç®¡ç†ï¼Œä¸ºæœªæ¥çš„åŠŸèƒ½è¿­ä»£æ‰“ä¸‹äº†åšå®çš„åŸºç¡€ã€‚


---

## 10. ç»éªŒæ•™è®­ä¸æœ€ä½³å®è·µ

### 10.1 å…³é”®ç»éªŒæ•™è®­

#### âœ… æˆåŠŸç»éªŒ

**1. æ¸è¿›å¼æ”¹é€ ç­–ç•¥**
- å…ˆæ•´åˆä»£ç ç»“æ„ï¼Œå†å¤„ç†æ„å»ºæµç¨‹ï¼Œæœ€åä¼˜åŒ–éƒ¨ç½²
- ä¿æŒåŸæœ‰æŠ€æœ¯æ ˆä¸å˜ï¼Œé™ä½è¿ç§»é£é™©
- ä½¿ç”¨æ„å»ºæ ‡ç­¾å¤„ç†å¯é€‰åŠŸèƒ½ï¼Œç¡®ä¿æ ¸å¿ƒåŠŸèƒ½ç¨³å®š

**2. å·¥å…·é“¾é€‰æ‹©**
- Goçš„embedåŒ…æ˜¯å•ä½“åº”ç”¨çš„å®Œç¾è§£å†³æ–¹æ¡ˆ
- Makefileæä¾›äº†æ¸…æ™°çš„æ„å»ºå’Œå¼€å‘æµç¨‹ç®¡ç†
- é™æ€å¯¼å‡ºæ¯”æœåŠ¡ç«¯æ¸²æŸ“æ›´é€‚åˆåµŒå…¥åœºæ™¯

**3. é—®é¢˜é¢„é˜²**
- æå‰è¯†åˆ«å¹¶éš”ç¦»æœ‰é—®é¢˜çš„ä¾èµ–ï¼ˆå¦‚WebDAVï¼‰
- å»ºç«‹å®Œæ•´çš„æœ¬åœ°å¼€å‘å’Œæµ‹è¯•ç¯å¢ƒ
- ä¿æŒå‰åç«¯å¼€å‘çš„ç›¸å¯¹ç‹¬ç«‹æ€§

#### âš ï¸ è¸©è¿‡çš„å‘

**1. æ¨¡å—è·¯å¾„æ··ä¹±**
- é—®é¢˜ï¼šgo.modæ¨¡å—è·¯å¾„ä¸importè·¯å¾„ä¸ä¸€è‡´
- è§£å†³ï¼šç»Ÿä¸€æ¨¡å—è·¯å¾„ï¼Œæ¸…ç†æ‰€æœ‰importè¯­å¥
- æ•™è®­ï¼šé¡¹ç›®åˆæœŸå°±åº”è¯¥è§„åˆ’å¥½æ¨¡å—ç»“æ„

**2. é™æ€æ–‡ä»¶è·¯å¾„å¤„ç†**
- é—®é¢˜ï¼šembed.FSçš„è·¯å¾„å¤„ç†ä¸ä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿä¸åŒ
- è§£å†³ï¼šæ ‡å‡†åŒ–è·¯å¾„å¤„ç†ï¼Œå®ç°æ­£ç¡®çš„SPA fallback
- æ•™è®­ï¼šä»”ç»†æµ‹è¯•ä¸åŒè·¯å¾„çš„è®¿é—®æƒ…å†µ

**3. æƒé™ç³»ç»Ÿæ•°æ®ä¼ é€’**
- é—®é¢˜ï¼šå‰ç«¯æƒé™åˆ¤æ–­ä¾èµ–åç«¯æ¥å£æ•°æ®æ ¼å¼
- è§£å†³ï¼šç»Ÿä¸€å‰åç«¯æƒé™æ•°æ®ç»“æ„
- æ•™è®­ï¼šAPIè®¾è®¡è¦è€ƒè™‘å‰ç«¯ä½¿ç”¨åœºæ™¯

### 10.2 æœ€ä½³å®è·µæ€»ç»“

#### ğŸ—ï¸ æ¶æ„è®¾è®¡
```
å•ä½“åº”ç”¨è®¾è®¡åŸåˆ™ï¼š
1. ä¿æŒå†…éƒ¨æ¨¡å—åŒ– - internal/ç›®å½•ç»“æ„æ¸…æ™°
2. ç»Ÿä¸€é…ç½®ç®¡ç† - ç¯å¢ƒå˜é‡ä¸é…ç½®æ–‡ä»¶ç»“åˆ
3. å¯é€‰åŠŸèƒ½éš”ç¦» - ä½¿ç”¨æ„å»ºæ ‡ç­¾ç®¡ç†
4. æ¥å£è®¾è®¡ç¨³å®š - APIå‘åå…¼å®¹
```

#### ğŸ”§ å¼€å‘æµç¨‹
```
æ¨èå¼€å‘æ¨¡å¼ï¼š
1. å‰ç«¯å¼€å‘ - ç‹¬ç«‹å¼€å‘ï¼Œä½¿ç”¨mockæ•°æ®æˆ–ä»£ç†
2. åç«¯å¼€å‘ - ç‹¬ç«‹å¼€å‘ï¼Œæä¾›å®Œæ•´API
3. é›†æˆæµ‹è¯• - ä½¿ç”¨å•ä½“åº”ç”¨è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•
4. ç”Ÿäº§éƒ¨ç½² - å•ä¸€äºŒè¿›åˆ¶æ–‡ä»¶éƒ¨ç½²
```

#### ğŸ“¦ æ„å»ºä¼˜åŒ–
```
æ„å»ºæœ€ä½³å®è·µï¼š
1. å‰ç«¯èµ„æºå‹ç¼© - å¯ç”¨æ‰€æœ‰å‹ç¼©é€‰é¡¹
2. Goç¼–è¯‘ä¼˜åŒ– - ä½¿ç”¨-ldflags="-s -w"
3. äºŒè¿›åˆ¶å‹ç¼© - å¯é€‰ä½¿ç”¨UPXè¿›ä¸€æ­¥å‹ç¼©
4. æ„å»ºç¼“å­˜ - åˆ©ç”¨Dockerå±‚ç¼“å­˜æé«˜æ„å»ºé€Ÿåº¦
```

---

## 11. æœªæ¥è§„åˆ’

### 11.1 çŸ­æœŸä¼˜åŒ–è®¡åˆ’ï¼ˆ1-3ä¸ªæœˆï¼‰

#### ğŸš€ æ€§èƒ½ä¼˜åŒ–
- [ ] **é™æ€èµ„æºç¼“å­˜ä¼˜åŒ–**
  - å®ç°HTTPç¼“å­˜å¤´è®¾ç½®
  - æ·»åŠ èµ„æºç‰ˆæœ¬ç®¡ç†
  - æ”¯æŒgzipå‹ç¼©ä¼ è¾“

- [ ] **ç›‘æ§å’Œæ—¥å¿—å®Œå–„**
  - é›†æˆPrometheus metrics
  - æ·»åŠ ç»“æ„åŒ–æ—¥å¿—
  - å®ç°å¥åº·æ£€æŸ¥ç«¯ç‚¹

- [ ] **å®‰å…¨åŠ å›º**
  - æ·»åŠ è¯·æ±‚é™æµä¸­é—´ä»¶
  - å®ç°HTTPSè‡ªåŠ¨é‡å®šå‘
  - åŠ å¼ºAPIè®¤è¯å’Œæˆæƒ

#### ğŸ”§ å¼€å‘ä½“éªŒæå‡
- [ ] **çƒ­é‡è½½æ”¹è¿›**
  - å®ç°åç«¯ä»£ç çƒ­é‡è½½
  - ä¼˜åŒ–å‰ç«¯å¼€å‘ä»£ç†é…ç½®
  - æ·»åŠ å¼€å‘ç¯å¢ƒé”™è¯¯é¡µé¢

- [ ] **æµ‹è¯•è¦†ç›–ç‡æå‡**
  - æ·»åŠ APIé›†æˆæµ‹è¯•
  - å®ç°å‰ç«¯ç«¯åˆ°ç«¯æµ‹è¯•
  - å»ºç«‹CI/CDè‡ªåŠ¨åŒ–æµ‹è¯•

### 11.2 ä¸­æœŸå‘å±•æ–¹å‘ï¼ˆ3-6ä¸ªæœˆï¼‰

#### ğŸ—ï¸ æ¶æ„æ¼”è¿›
- [ ] **å¾®æœåŠ¡åŒ–å‡†å¤‡**
  - æ¨¡å—åŒ–APIè®¾è®¡ï¼Œä¸ºå°†æ¥æ‹†åˆ†åšå‡†å¤‡
  - å®ç°æœåŠ¡å‘ç°æœºåˆ¶
  - æ·»åŠ åˆ†å¸ƒå¼è¿½è¸ªæ”¯æŒ

- [ ] **å¤šç§Ÿæˆ·æ”¯æŒ**
  - æ•°æ®éš”ç¦»è®¾è®¡
  - ç”¨æˆ·ç»„ç»‡æ¶æ„
  - èµ„æºé…é¢ç®¡ç†

- [ ] **æ’ä»¶åŒ–æ¶æ„**
  - è®¾è®¡æ’ä»¶æ¥å£è§„èŒƒ
  - å®ç°åŠ¨æ€åŠŸèƒ½åŠ è½½
  - æ”¯æŒç¬¬ä¸‰æ–¹æ’ä»¶å¼€å‘

#### ğŸ“Š åŠŸèƒ½æ‰©å±•
- [ ] **å®Œæ•´çš„WebDAVå®ç°**
  - è§£å†³ä¾èµ–å…¼å®¹é—®é¢˜
  - å®ç°å®Œæ•´çš„WebDAVåè®®æ”¯æŒ
  - æ·»åŠ å®¢æˆ·ç«¯å…¼å®¹æ€§æµ‹è¯•

- [ ] **å¤šäº‘å­˜å‚¨æ”¯æŒ**
  - AWS S3é›†æˆ
  - é˜¿é‡Œäº‘OSSæ”¯æŒ
  - è…¾è®¯äº‘COSæ¥å…¥

### 11.3 é•¿æœŸæ„¿æ™¯ï¼ˆ6-12ä¸ªæœˆï¼‰

#### ğŸŒ ç”Ÿæ€å»ºè®¾
- [ ] **å¼€æºç¤¾åŒºå»ºè®¾**
  - å®Œå–„é¡¹ç›®æ–‡æ¡£
  - å»ºç«‹è´¡çŒ®è€…æŒ‡å—
  - å®ç°issueå’ŒPRç®¡ç†æµç¨‹

- [ ] **å¤šå¹³å°æ”¯æŒ**
  - Dockeré•œåƒå¤šæ¶æ„æ”¯æŒï¼ˆx86_64, ARM64ï¼‰
  - Kubernetes Operatorå¼€å‘
  - Helm Chartç»´æŠ¤

- [ ] **ä¼ä¸šçº§ç‰¹æ€§**
  - é«˜å¯ç”¨æ€§è®¾è®¡
  - æ•°æ®å¤‡ä»½å’Œæ¢å¤
  - å®¡è®¡æ—¥å¿—å’Œåˆè§„æ€§

---

## 12. æ€»ç»“ä¸å±•æœ›

### 12.1 é¡¹ç›®ä»·å€¼æ€»ç»“

æœ¬æ¬¡OSS Managerä»å‰åç«¯åˆ†ç¦»åˆ°å•ä½“åº”ç”¨çš„æ”¹é€ ï¼Œä¸ä»…ä»…æ˜¯ä¸€æ¬¡æŠ€æœ¯æ¶æ„çš„è°ƒæ•´ï¼Œæ›´æ˜¯ä¸€æ¬¡å·¥ç¨‹å®è·µçš„æ·±åº¦æ€è€ƒã€‚æˆ‘ä»¬è¯æ˜äº†ï¼š

- **é€‚åˆçš„æ¶æ„æ¯”æµè¡Œçš„æ¶æ„æ›´é‡è¦** - å•ä½“åº”ç”¨åœ¨ä¸­å°å‹é¡¹ç›®ä¸­çš„ä¼˜åŠ¿æ˜æ˜¾
- **å·¥ç¨‹æ•ˆç‡ä¼˜äºæ¶æ„çº¯ç²¹æ€§** - å®ç”¨ä¸»ä¹‰çš„æŠ€æœ¯é€‰æ‹©å¸¦æ¥æ›´é«˜çš„å¼€å‘å’Œè¿ç»´æ•ˆç‡  
- **æ¸è¿›å¼æ”¹é€ èƒœè¿‡æ¿€è¿›é‡æ„** - ä¿æŒæ ¸å¿ƒåŠŸèƒ½ç¨³å®šçš„åŒæ—¶è¿›è¡Œæ¶æ„æ¼”è¿›

### 12.2 é€‚ç”¨åœºæ™¯å»ºè®®

æœ¬æ–¹æ¡ˆç‰¹åˆ«é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š
- **ä¸­å°å‹å›¢é˜Ÿé¡¹ç›®**ï¼ˆ5-20äººï¼‰
- **å¿«é€Ÿè¿­ä»£éœ€æ±‚**ï¼ˆéœ€è¦é¢‘ç¹å‘å¸ƒï¼‰
- **è¿ç»´èµ„æºæœ‰é™**ï¼ˆå¸Œæœ›ç®€åŒ–éƒ¨ç½²å’Œç»´æŠ¤ï¼‰
- **å‰åç«¯æŠ€æœ¯æ ˆç›¸å¯¹ç¨³å®š**ï¼ˆä¸éœ€è¦é¢‘ç¹æ›´æ¢æŠ€æœ¯ï¼‰

ä¸å»ºè®®åœ¨ä»¥ä¸‹æƒ…å†µä½¿ç”¨ï¼š
- å¤§å‹å›¢é˜Ÿéœ€è¦ç‹¬ç«‹å¼€å‘å’Œéƒ¨ç½²
- å‰åç«¯æŠ€æœ¯æ ˆå·®å¼‚å·¨å¤§æˆ–å˜åŒ–é¢‘ç¹
- éœ€è¦æè‡´çš„æ°´å¹³æ‰©å±•èƒ½åŠ›
- å›¢é˜Ÿåå¥½å¾®æœåŠ¡æ¶æ„

### 12.3 æŠ€æœ¯è¶‹åŠ¿æ€è€ƒ

éšç€Goç”Ÿæ€çš„ä¸æ–­å‘å±•å’ŒembedåŒ…ç­‰æ–°ç‰¹æ€§çš„åŠ å…¥ï¼Œå•ä½“åº”ç”¨æ­£åœ¨é‡æ–°ç„•å‘æ´»åŠ›ï¼š

- **äº‘åŸç”Ÿå•ä½“** - ç»“åˆå®¹å™¨åŒ–å’Œè‡ªåŠ¨åŒ–è¿ç»´çš„å•ä½“åº”ç”¨
- **æ¨¡å—åŒ–å•ä½“** - å†…éƒ¨æ¨¡å—åŒ–ä½†å¤–éƒ¨ç»Ÿä¸€çš„æ¶æ„æ¨¡å¼
- **æ¸è¿›å¼åˆ†ç¦»** - ä»å•ä½“å¼€å§‹ï¼Œæ ¹æ®ä¸šåŠ¡å‘å±•é€æ­¥æ¼”è¿›

### 12.4 æœ€ç»ˆå¯„è¯­

æŠ€æœ¯é€‰æ‹©åº”è¯¥æœåŠ¡äºä¸šåŠ¡ç›®æ ‡ï¼Œè€Œä¸æ˜¯è¿½æ±‚æŠ€æœ¯æœ¬èº«çš„å…ˆè¿›æ€§ã€‚OSS Managerçš„æ”¹é€ å®è·µå‘Šè¯‰æˆ‘ä»¬ï¼Œ**åˆé€‚çš„æŠ€æœ¯æ¶æ„ + è‰¯å¥½çš„å·¥ç¨‹å®è·µ = é¡¹ç›®æˆåŠŸçš„é‡è¦ä¿éšœ**ã€‚

å¸Œæœ›æœ¬æ–‡æ¡£èƒ½ä¸ºç±»ä¼¼é¡¹ç›®çš„æ¶æ„é€‰æ‹©å’Œæ”¹é€ å®è·µæä¾›æœ‰ä»·å€¼çš„å‚è€ƒã€‚æŠ€æœ¯åœ¨å˜ï¼Œä½†å·¥ç¨‹æ€ç»´å’Œå®è·µç²¾ç¥æ°¸è¿œæ˜¯æ¨åŠ¨é¡¹ç›®æˆåŠŸçš„æ ¸å¿ƒåŠ¨åŠ›ã€‚

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
**æœ€åæ›´æ–°**: 2024å¹´8æœˆ11æ—¥  
**æ–‡æ¡£ä½œè€…**: OSS Managerå¼€å‘å›¢é˜Ÿ  
**é¡¹ç›®åœ°å€**: https://github.com/myysophia/ossmanager

